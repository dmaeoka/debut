<!-- src/static/sections/quotes.liquid -->
<div
	class="container"
	data-section-id="{{ section.id }}"
	data-section-type="quotes">
	{% if section.settings.title != blank %}
		<div class="mb-8 text-center">
			<h2 class="text-2xl tracking-wide uppercase mb-4">{{ section.settings.title | escape }}</h2>
		</div>
	{% endif %}

	{% if section.blocks.size > 0 %}
		<div
			class="quotes-wrapper"
			data-slider>
			<div
				class="quotes-slider-wrapper overflow-hidden"
				data-slider-container>
				<div
					class="quotes-slider flex max-w-full"
					id="Quotes-{{ section.id }}"
					data-count="{{ section.blocks.size }}"
					data-slider-track>
					{% for block in section.blocks %}
						<div
							id="slickSlide{{ block.id }}"
							class="w-full md:w-1/3 z-10 flex-shrink-0 quotes-slide quotes-slide--{{ block.id }}{% if section.blocks.size == 1 %} quotes-slide--single{% endif %}"
							aria-labelledby="slickDot{{ block.id }}"
							{{ block.shopify_attributes }}
							data-slider-slide-index="{{ forloop.index0 }}"
							data-slider-item>

							<blockquote class="quotes-slider__text text-xl text-center px-4">
								<span class="quote-icon block mx-auto mb-5 ">
									{% include 'icon-quote', icon_class: "h-5 w-5 fill-current inline-block align-middle" %}
								</span>
								{% if block.settings.quote != blank %}
									{{ block.settings.quote }}
								{% endif %}
								{% if block.settings.author != blank %}
									<cite class="text-sm">{{ block.settings.author | escape }}</cite>
								{% endif %}
							</blockquote>
						</div>
					{% endfor %}
				</div>
			</div>
		</div>
	{% endif %}

	{% if section.blocks.size == 0 %}
		{% include 'no-blocks' %}
	{% endif %}
</div>



{% schema %}
{
	"name": "Testimonials",
	"class": "index-section",
	"max_blocks": 9,
	"settings": [
		{
			"type": "text",
			"id": "title",
			"label": "Heading",
			"default": "Testimonials"
		}
	],
	"blocks": [
		{
			"type": "quote",
			"name": "Testimonial",
			"settings": [
				{
					"type": "richtext",
					"id": "quote",
					"label": "Text",
					"default": "<p>Add customer reviews and testimonials to showcase your storeâ€™s happy customers.</p>"
				},
				{
					"type": "text",
					"id": "author",
					"label": "Author",
					"default": "Author's name"
				}
			]
		}
	],
	"presets": [
		{
			"name": "Testimonials",
			"category": "Text",
			"blocks": [
				{
					"type": "quote"
				},
				{
					"type": "quote"
				},
				{
					"type": "quote"
				}
			]
		}
	]
}
{% endschema %}
